CREATE DATABASE crm;
USE crm;

DROP TABLE PURCHASE;
DROP TABLE CLIENT;
DROP TABLE CLIENTTYPE;
DROP TABLE ADMIN;
 CREATE TABLE CLIENTTYPE(
 id INT(10) PRIMARY KEY AUTO_INCREMENT,
 ctype VARCHAR(50) NOT NULL
 );

CREATE TABLE CLIENT(
 id INT(10) PRIMARY KEY,
  name VARCHAR(50),
  type INT(10),
   email VARCHAR(50),
   FOREIGN KEY (type) REFERENCES CLIENTTYPE(id)
);

CREATE TABLE PURCHASE(
 id INT(10) PRIMARY KEY AUTO_INCREMENT,
 client  INT(10) NOT NULL,
  date TIMESTAMP NOT NULL DEFAULT NOW(),
  totalValue INT(10) NOT NULL,
 FOREIGN KEY (client) REFERENCES CLIENT(id)
);


CREATE TABLE ADMIN(
  id INT(10) PRIMARY KEY,
  name VARCHAR(50),
  password VARCHAR(50)
 );


 INSERT INTO CLIENTTYPE(ctype) VALUES ('bueno');
 INSERT INTO CLIENTTYPE(ctype) VALUES ('malo');

 INSERT INTO CLIENT VALUES('1000000005','Jose', 1,'jose@gmail.com');
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
  INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
  INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
  INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
  INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
  INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
  INSERT INTO PURCHASE(client, totalValue) VALUES('1000000005',200);
 

 INSERT INTO CLIENT VALUES('1000000000','Mike', 1,'jharpx10@gmail.com');
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000000',10000);
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000000',20000);

INSERT INTO CLIENT VALUES('1000000001','Maria', 1,'maria@gmail.com');
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000001',10000);
 INSERT INTO PURCHASE(client, totalValue) VALUES('1000000001',100);


INSERT INTO CLIENT VALUES('1000000002','Martin', 1,'martin@gmail.com');
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000002',11100);

INSERT INTO CLIENT VALUES('1000000003','Cristina', 1,'cris2@gmail.com');
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',11100);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',200);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',300);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',21100);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',11100);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',1100);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',21100);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',71100);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',41100);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',11100);
INSERT INTO PURCHASE(client, totalValue) VALUES('1000000003',10);

 INSERT INTO ADMIN VALUES(0000000000,'root','root');